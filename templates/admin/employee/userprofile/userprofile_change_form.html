{% extends "admin/change_form.html" %}
{% load static %}
{% block content %}


    
</ul>
{{ block.super }}
 <!-- Add a script to extract the user ID -->
 <!-- <script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function() {
        // Get the user ID from a data attribute or other method
        var userId = '{{ user_profile.user.id }}'; // Pass user ID from context

        // Use the user ID as needed
        console.log('User ID:', userId);
    });
</script> -->
  <!-- Form to submit a GET request -->

  <button id="view-clocker-button" type="button">View Member's Clockers</button>
  <script>
      document.getElementById('view-clocker-button').addEventListener('click', function() {
        var clockerId = this.getAttribute('data-clocker-id');
        var user = '{{user_profile.user.id}}'
        var popupUrl = "{% url 'clocker_popup' 0 %}".replace('0', user);

        var width = 800; // Desired width of the popup window
        var height = 600; // Desired height of the popup window

        // Calculate the position to center the window on the screen
        var left = (screen.width - width) / 2;
        var top = (screen.height - height) / 2;
       
        window.open(popupUrl, 'popupWindow', `width=${width},height=${height},left=${left},top=${top},scrollbars=yes,resizable=yes`);
        //   alert('Button clicked!'); // This will show an alert when the button is clicked.
      });
  </script>
<link rel="stylesheet" href="{% static 'css/popup.css' %}">
<!-- <div id="clocker-popup" style="display:none;"> -->
    <!-- <div style="background:white; padding:20px; border:1px solid #ccc; position:fixed; top:50%; left:50%; transform:translate(-50%, -50%); z-index:1000;"> -->
       
<!-- templates/clocker_popup.html -->


       
<!-- templates/clocker_popup.html -->
<!-- {% load static %}
<!DOCTYPE html>
<html>
<head>
    <title>Clocker Details</title>

    <link rel="stylesheet" href="{% static 'css/popup.css' %}"> <!-- Optional: Add CSS for styling -->
    <link rel="stylesheet" href="{% static 'css/popup.css' %}"> 

</head>
<!-- <body>
    <h1>Clocker Details</h1>
    <p>ID: {{ clocker.id }}</p>
    <p>User: {{ clocker.user_profile.user }}</p>
    <p>Date: {{ clocker.date }}</p>
    <p>Remark: {{ clocker.remark }}</p>
    <button id="close-popup">Close</button>
    <script>
        document.getElementById('close-popup').onclick = function() {
            window.close();
        };
    </script>
</body>
</html>
    </div>
    <div id="overlay" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:999;"></div>

</div>
=======
</div> --> 





{% endblock %}

{% block extrahead %}
    {{ block.super }}
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var viewClockerButton = document.getElementById('view-clocker-button');
            var popup = document.getElementById('clocker-popup');
            var closePopupButton = document.getElementById('close-popup');
            var overlay = document.getElementById('overlay');

            viewClockerButton.addEventListener('click', function() {
                popup.style.display = 'block';
                overlay.style.display = 'block';
            });

            closePopupButton.addEventListener('click', function() {
                popup.style.display = 'none';
                overlay.style.display = 'none';
            });

            overlay.addEventListener('click', function() {
                popup.style.display = 'none';
                overlay.style.display = 'none';
            });
        });
    </script>
{% endblock %}
